<html>
<body>

<script type="text/javascript" src="http://code.jquery.com/jquery-1.4.2.min.js"></script>
<script type="text/javascript">
	var timer;
	
	function log(message)
	{
		if (console) console.log(message);
	}
	
    $(document).ready(function() {
    	
    	function send() {
            var requestUrl =
                "sum?firstNumber=" + $('#firstNumber').val() +
                "&secondNumber=" + $('#secondNumber').val();
            log(requestUrl); 
            $.getJSON(requestUrl,
            function(data) {
                log(this.data); 
                $("#firstNumber").html(data.firstNumber);
                $("#secondNumber").html(data.secondNumber);
                $("#total").html(data.total);
            });
        }
    	
        $('#refreshButton').click(send);
        
        timer=setInterval(send,5000);
    });
    
    function abortTimer() { 
    	  clearInterval(timer);
    	}
</script>


<div style="width:400px;font-family:Arial; font-size:9pt;">
    <table>
        <tbody><tr>
            <td colspan="2" style="padding-bottom:10px">
                Ajax based sum calculation:
            </td>
        </tr>
        <tr>
            <td>
                FirstNumber:
            </td>
            <td>
                <input id="firstNumber" size="10" type="text"><br>
            </td>
        </tr>
        <tr>
            <td>
                SecondNumber:
            </td>
            <td>
                <input id="secondNumber" size="10" type="text">
            </td>
        </tr>
        <tr>
            <td colspan="2">
                <div id="refreshButton" style="width:80px;border:1px solid gray;margin-top: 10px;padding:2px">Click here</div>
            </td>
        </tr>
        <tr>
            <td colspan="2" style="padding-top: 10px">
                Sum of <span id="firstNumber"> and <span id="secondNumber"> is: <span id="total">
            </span></span></span></td>
        </tr>
    </tbody></table>
</div>





</body>
</html>